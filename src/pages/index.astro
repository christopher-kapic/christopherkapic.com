---
import BaseLayout from "../layouts/BaseLayout.astro";
import FeaturedArticles from "../components/FeaturedArticles.astro";
import { settings } from "../settings";
---

<BaseLayout>
  <section>
    <div
      class="relative py-20 radius-for-skewed"
      style={`background-image: url('${settings.home_image}'); background-size: cover; background-repeat: no-repeat; background-position: center;`}
    >
      <div class="absolute inset-0 bg-gray-900 opacity-80 radius-for-skewed">
      </div>
      <div class="container mx-auto px-4 relative">
        <div class="max-w-md text-center mx-auto">
          <span class="text-green-600 font-bold"
            >Using ✨<a
              href="https://astro.build/"
              class="underline text-gray-100">Astro</a
            >✨ for <em>great</em> performance</span
          >
          <h2 class="text-4xl lg:text-5xl text-white font-bold font-heading">
            Developer Blog that pushes to <a
              href="https://medium.com"
              class="font-display max-w-sm text-green-600 font-bold leading-tight"
              ><span class="link link-underline link-underline-black"
                >Medium</span
              >
            </a> and <a
              class="font-display max-w-sm text-green-600 font-bold leading-tight"
              href="https://dev.to/"
              ><span class="link link-underline link-underline-black"
                >dev.to</span
              >
            </a>
          </h2>
          <div class="mb-6 max-w-sm mx-auto">
            <p class="text-gray-400 leading-loose">
              Yes... this is my personal blog... I still need to move over my
              old blog posts and update the branding from the template.
            </p>
          </div>
          <a
            class="inline-block"
            href="https://app.netlify.com/start/deploy?repository=https://github.com/christopher-kapic/astro-devblog"
            ><img
              src="https://www.netlify.com/img/deploy/button.svg"
              alt="Deploy to Netlify"
            />
          </a>
        </div>
      </div>
    </div>
  </section>
  <FeaturedArticles />

  <div class="py-20 bg-gray-50">
    <div class="container mx-auto px-4 max-w-xl mx-auto">
      <h2 class="mb-2 text-4xl lg:text-5xl font-bold font-heading">
        Newsletter
      </h2>
      <p class="mb-8 text-gray-400 leading-loose">
        Stay up to date with my latest posts.
      </p>
      <form
        method="post"
        action="https://sendfox.com/form/3z7k6x/10gg0x"
        class="sendfox-form"
        id="10gg0x"
        data-async="true"
        data-recaptcha="true"
      >
        <p class="my-2">
          <label for="sendfox_form_name">First Name:</label>
          <input
            type="text"
            class="flex-grow py-2 px-4 mr-4 text-xs rounded leading-loose"
            id="sendfox_form_name"
            placeholder="First Name"
            name="first_name"
            required
          />
        </p>
        <p class="my-2">
          <label for="sendfox_form_email">Email:</label>
          <input
            type="email"
            id="sendfox_form_email"
            class="flex-grow py-2 px-4 mr-4 text-xs rounded leading-loose"
            placeholder="Email"
            name="email"
            required
          />
        </p>
        <p>
          <label
            ><input type="checkbox" name="gdpr" value="1" required /> I agree to
            receive email updates and promotions.</label
          >
        </p>
        <!-- no botz please -->
        <div style="position: absolute; left: -5000px;" aria-hidden="true">
          <input
            type="text"
            name="a_password"
            tabindex="-1"
            value=""
            autocomplete="off"
          />
        </div>
        <p class="flex justify-center my-2">
          <button
            class="w-auto py-2 px-6 rounded-xl bg-green-600 hover:bg-green-700 text-gray-50 font-bold leading-loose transition duration-200"
            type="submit">Submit</button
          >
        </p>
      </form>
      <script src="https://sendfox.com/js/form.js"></script>
    </div>
  </div>
</BaseLayout>

<style>
  .link-underline {
    border-bottom-width: 0;
    background-image: linear-gradient(transparent, transparent),
      linear-gradient(#fff, #fff);
    background-size: 0 3px;
    background-position: 0 100%;
    background-repeat: no-repeat;
    transition: background-size 0.5s ease-in-out;
  }

  .link-underline-black {
    background-image: linear-gradient(transparent, transparent),
      linear-gradient(#16a34a, #16a34a);
  }

  .link-underline:hover {
    background-size: 100% 3px;
    background-position: 0 100%;
  }
</style>
